include "algorithm.asyhdr";
include "../data/PyraminxCrystal.dat";

setView(-31.6, -0.3, -162);

init();
triple fw = findCenter(AG--AS--AD--AT--AH);
triple lt = findCenter(AG--AO--AB--AP--AH);
triple rt = findCenter(AC--AQ--AJ--AS--AD);
triple bt = findCenter(AI--AO--AG--AS--AJ);
triple ul = findCenter(AK--AP--AH--AT--AL);
triple ur = findCenter(AC--AR--AL--AT--AD);

figureBegin();
PyraminxCrystal();
highline(BF--CDT--CTD);
highline(BF--CDS--CSD);
highline(BA--CDT--CTD);
highline(BB--CDS--CSD);
makeChange(BF--CDT--CTD, BA--CDT--CTD, 0.7*(fw+ur+0.1*ul));
makeChange(BF--CDS--CSD, BB--CDS--CSD, 0.7*(fw+rt+0.1*bt));
figureLine();
PyraminxCrystal();
makeMove(0.75*lt, 72, 0.79);
makeMove(0.65*lt, -72, 0.81);
makeMove(0.65*rt, -72, 0.81);
makeMove(0.75*rt, 72, 0.79);
label("$F$", 0.9*(ul+ur));
figureNext();
PyraminxCrystal();
makeTurn(72, 1.05);
label("$T$", 0.9*(ul+ur));
figureNext();
PyraminxCrystal();
makeMove(0.75*lt, 72, 0.79);
makeMove(0.65*lt, -72, 0.81);
makeMove(0.65*rt, -72, 0.81);
makeMove(0.75*rt, 72, 0.79);
label("$F$", 0.9*(ul+ur));
figureNext();
PyraminxCrystal();
makeTurn(-72, 1.05);
label("$T^{-1}$", 0.9*(ul+ur));
figureLine();
PyraminxCrystal();
makeMove(0.75*lt, -72, 0.79);
makeMove(0.65*lt, 72, 0.81);
makeMove(0.65*rt, 72, 0.81);
makeMove(0.75*rt, -72, 0.79);
label("$F^{-1}$", 0.9*(ul+ur));
figureNext();
PyraminxCrystal();
makeTurn(-72, 1.05);
label("$T^{-1}$", 0.9*(ul+ur));
figureNext();
PyraminxCrystal();
makeMove(0.75*lt, -72, 0.79);
makeMove(0.65*lt, 72, 0.81);
makeMove(0.65*rt, 72, 0.81);
makeMove(0.75*rt, -72, 0.79);
label("$F^{-1}$", 0.9*(ul+ur));
figureNext();
PyraminxCrystal();
makeTurn(72, 1.05);
label("$T$", 0.9*(ul+ur));
figureEnd();

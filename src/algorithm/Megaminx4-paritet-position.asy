include "algorithm.asyhdr";
include "../data/Megaminx4.dat";

init();
triple up = findCenter(AI--AO--AG--AS--AJ);
triple left = findCenter(AG--AS--AD--AT--AH);
triple right = findCenter(AG--AO--AB--AP--AH);
triple r = unit(AB-up);

figureBegin();
Megaminx4();
highline(BOG--MO--MGO--BG2O);
highline(BG2O--MGO--MG--BGO);
highline(BIJ--MI--MIJ--BI2J);
highline(BI2J--MIJ--MJ--BJI);
highline(BGH--JG--JGH--BG2H);
highline(BG2H--JGH--JH--BHG);
highline(BGO--FG--FGO--BG2O);
highline(BG2O--FGO--FO--BOG);
highline(BGH--FG--FGH--BG2H);
highline(BG2H--FGH--FH--BHG);
makeChange(BIM--CI--CIM--BI2M, BGH--FG--FGH--BG2H, 1.1*BB2O+0.12*up-0.04*r);
makeChange(BI2M--CIM--CM--BMI, BG2H--FGH--FH--BHG, 1.1*BB2O-0.12*up+0.04*r);
makeChange(BOG--MO--MGO--BG2O, BGO--FG--FGO--BG2O, 1.1*BG2O);
makeChange(BG2O--MGO--MG--BGO, BG2O--FGO--FO--BOG, 1.1*BG2O);
makeChange(BI2J--MIJ--MJ--BJI, BIJ--KI--KIJ--BI2J, 1.1*BI2J);
makeChange(BIJ--MI--MIJ--BI2J, BI2J--KIJ--KJ--BJI, 1.1*BI2J);
figureLine();
Megaminx4();
makeMove(0.75*up, 144, 0.8);
label("$u^2$", 1.5*up);
figureNext();
Megaminx4();
makeMove(0.92*left, 72, 0.67);
makeMove(0.82*left, -72, 0.7);
makeMove(0.92*right, 72, 0.67);
makeMove(0.82*right, -72, 0.7);
makeTurn(-120, 1.25, up+left+right);
makeTurn(120, 1.17, up+left+right);
label("$G$", 1.5*up);
figureNext();
Megaminx4();
makeTurn(144, 1.03, up, true);
label("$t^2$", 1.5*up);
figureNext();
Megaminx4();
makeMove(0.75*up, 72, 0.8);
label("$u$", 1.5*up);
figureLine();
Megaminx4();
makeMove(0.92*left, 72, 0.67);
makeMove(0.82*left, -72, 0.7);
makeMove(0.92*right, 72, 0.67);
makeMove(0.82*right, -72, 0.7);
makeTurn(-120, 1.25, up+left+right);
makeTurn(120, 1.17, up+left+right);
label("$G$", 1.5*up);
figureNext();
Megaminx4();
makeMove(0.75*up, 144, 0.8);
label("$u^2$", 1.5*up);
figureNext();
Megaminx4();
makeTurn(-144, 1.03, up, true);
label("$t^{-2}$", 1.5*up);
figureEnd();

